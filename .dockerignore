services:
  dhalugueis-app:
    # Build the Docker image using the Dockerfile in the current directory.
    build: .
    # Name the container for easier management.
    container_name: dhalugueis_container
    # Map port 8094 of the host machine to port 3000 inside the container.
    ports:
      - "8094:3000"
    # This is crucial for persisting your SQLite database.
    # It maps the ./data directory from your project folder on the host
    # to the /app/data directory inside the container.
    # Your data will be safe even if the container is removed or rebuilt.
    volumes:
      - ./data:/app/data
    # Automatically restart the container if it crashes, unless it was manually stopped.
    restart: unless-stopped
    environment:
      # Ensures Next.js runs in production mode inside the container.
      - NODE_ENV=production
